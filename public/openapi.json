{
  "openapi": "3.0.0",
  "info": {
    "title": "Node-Fetch API",
    "version": "1.0.0",
    "description": "è®¢é˜…ç®¡ç†å’Œç”¨æˆ·é…ç½® API è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£\n\n## åŠŸèƒ½ç‰¹æ€§\n- ğŸ” ç”¨æˆ·é…ç½®ç®¡ç†\n- ğŸ“Š æµé‡ç»Ÿè®¡\n- ğŸ”„ è®¢é˜…è½¬æ¢\n- ğŸ‘¥ ç”¨æˆ·ç®¡ç†ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰\n- ğŸ—„ï¸ KV å­˜å‚¨æœåŠ¡\n\n## è®¤è¯è¯´æ˜\nå¤§éƒ¨åˆ† API éœ€è¦é€šè¿‡ `token` æŸ¥è¯¢å‚æ•°è¿›è¡Œè®¤è¯ã€‚ç®¡ç†å‘˜æ¥å£éœ€è¦ `superToken` å‚æ•°ã€‚\n\n## ç”Ÿæˆæ—¶é—´\n2025-07-15T16:26:14.653Z"
  },
  "servers": [
    {
      "url": "/api",
      "description": "API æœåŠ¡å™¨"
    },
    {
      "url": "http://localhost:8787/api",
      "description": "å¼€å‘æœåŠ¡å™¨"
    }
  ],
  "paths": {
    "/config/allUsers": {
      "all": {
        "summary": "ALL /config/allUsers",
        "description": "ALL æ“ä½œ",
        "tags": [
          "api"
        ],
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ç”¨æˆ·è®¿é—®ä»¤ç‰Œ",
            "example": "user_access_token"
          }
        ],
        "responses": {
          "200": {
            "description": "è¯·æ±‚æˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "æœªæˆæƒè®¿é—®",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "æƒé™ä¸è¶³",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "TokenAuth": []
          }
        ]
      }
    },
    "/config/users/:userId": {
      "all": {
        "summary": "ALL /config/users/:userId",
        "description": "ALL æ“ä½œ",
        "tags": [
          "api"
        ],
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ç”¨æˆ·è®¿é—®ä»¤ç‰Œ",
            "example": "user_access_token"
          }
        ],
        "responses": {
          "200": {
            "description": "è¯·æ±‚æˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "æœªæˆæƒè®¿é—®",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "æƒé™ä¸è¶³",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "TokenAuth": []
          }
        ]
      }
    },
    "/admin/*": {
      "all": {
        "summary": "è¶…çº§ç®¡ç†å‘˜APIæ¥å£",
        "description": "è¶…çº§ç®¡ç†å‘˜APIæ¥å£",
        "tags": [
          "admin"
        ],
        "parameters": [
          {
            "name": "superToken",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "è¶…çº§ç®¡ç†å‘˜è®¿é—®ä»¤ç‰Œ",
            "example": "super_secret_token"
          }
        ],
        "responses": {
          "200": {
            "description": "è¯·æ±‚æˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "æœªæˆæƒè®¿é—®",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "æƒé™ä¸è¶³",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "SuperTokenAuth": []
          }
        ]
      }
    },
    "/clash/{userId}": {
      "get": {
        "summary": "è·å–ç”¨æˆ·çš„Clashé…ç½®",
        "description": "ç”Ÿæˆç”¨æˆ·ä¸“ç”¨çš„Clashé…ç½®æ–‡ä»¶ï¼Œæ”¯æŒå¤šç§è®¢é˜…æºåˆå¹¶",
        "tags": [
          "è®¢é˜…",
          "Clash"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ç”¨æˆ·å”¯ä¸€æ ‡è¯†ç¬¦",
            "example": "user123"
          },
          {
            "name": "type",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "clash",
                "v2ray",
                "ss"
              ],
              "default": "clash"
            },
            "description": "é…ç½®æ–‡ä»¶ç±»å‹"
          },
          {
            "name": "udp",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "æ˜¯å¦å¯ç”¨UDP"
          }
        ],
        "responses": {
          "200": {
            "description": "Clashé…ç½®æ–‡ä»¶",
            "content": {
              "text/yaml": {
                "schema": {
                  "type": "string"
                }
              },
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "æœªæˆæƒè®¿é—®",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "æƒé™ä¸è¶³",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/storage/{key}": {
      "get": {
        "summary": "è·å–å­˜å‚¨çš„å€¼",
        "description": "ä»KVå­˜å‚¨ä¸­è·å–æŒ‡å®šé”®çš„å€¼",
        "tags": [
          "å­˜å‚¨"
        ],
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "å­˜å‚¨é”®å",
            "example": "config_key"
          },
          {
            "name": "token",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ç”¨æˆ·è®¿é—®ä»¤ç‰Œ",
            "example": "user_access_token"
          }
        ],
        "responses": {
          "200": {
            "description": "è¯·æ±‚æˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "æœªæˆæƒè®¿é—®",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "æƒé™ä¸è¶³",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "TokenAuth": []
          }
        ]
      },
      "put": {
        "summary": "è®¾ç½®å­˜å‚¨çš„å€¼",
        "description": "å°†æ•°æ®å­˜å‚¨åˆ°KVå­˜å‚¨ä¸­çš„æŒ‡å®šé”®",
        "tags": [
          "å­˜å‚¨"
        ],
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "å­˜å‚¨é”®å",
            "example": "config_key"
          },
          {
            "name": "token",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ç”¨æˆ·è®¿é—®ä»¤ç‰Œ",
            "example": "user_access_token"
          }
        ],
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "æœªæˆæƒè®¿é—®",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "æƒé™ä¸è¶³",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "TokenAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "value": {
                    "type": "string",
                    "description": "è¦å­˜å‚¨çš„å€¼"
                  }
                },
                "required": [
                  "value"
                ]
              }
            }
          }
        }
      }
    },
    "/admin/users": {
      "get": {
        "summary": "è·å–ç”¨æˆ·åˆ—è¡¨",
        "description": "ç®¡ç†å‘˜æ¥å£ï¼šè·å–è¯¦ç»†çš„ç”¨æˆ·åˆ—è¡¨ï¼ŒåŒ…æ‹¬æµé‡ç»Ÿè®¡å’ŒçŠ¶æ€ä¿¡æ¯",
        "tags": [
          "ç®¡ç†å‘˜",
          "ç”¨æˆ·ç®¡ç†"
        ],
        "parameters": [
          {
            "name": "superToken",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "è¶…çº§ç®¡ç†å‘˜è®¿é—®ä»¤ç‰Œ",
            "example": "super_secret_token"
          }
        ],
        "responses": {
          "200": {
            "description": "ç”¨æˆ·åˆ—è¡¨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserSummary"
                  }
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "æœªæˆæƒè®¿é—®",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "æƒé™ä¸è¶³",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "SuperTokenAuth": []
          }
        ]
      },
      "post": {
        "summary": "åˆ›å»ºæ–°ç”¨æˆ·",
        "description": "ç®¡ç†å‘˜æ¥å£ï¼šæ‰¹é‡åˆ›å»ºç”¨æˆ·è´¦æˆ·",
        "tags": [
          "ç®¡ç†å‘˜",
          "ç”¨æˆ·ç®¡ç†"
        ],
        "parameters": [
          {
            "name": "superToken",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "è¶…çº§ç®¡ç†å‘˜è®¿é—®ä»¤ç‰Œ",
            "example": "super_secret_token"
          }
        ],
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "æœªæˆæƒè®¿é—®",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "æƒé™ä¸è¶³",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "SuperTokenAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserConfig"
              }
            }
          }
        }
      }
    },
    "/admin/users/{userId}": {
      "delete": {
        "summary": "åˆ é™¤æŒ‡å®šç”¨æˆ·",
        "description": "ç®¡ç†å‘˜æ¥å£ï¼šåˆ é™¤æŒ‡å®šç”¨æˆ·åŠå…¶æ‰€æœ‰ç›¸å…³æ•°æ®",
        "tags": [
          "ç®¡ç†å‘˜",
          "ç”¨æˆ·ç®¡ç†"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ç”¨æˆ·å”¯ä¸€æ ‡è¯†ç¬¦",
            "example": "user123"
          },
          {
            "name": "superToken",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "è¶…çº§ç®¡ç†å‘˜è®¿é—®ä»¤ç‰Œ",
            "example": "super_secret_token"
          }
        ],
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "æœªæˆæƒè®¿é—®",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "æƒé™ä¸è¶³",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "SuperTokenAuth": []
          }
        ]
      }
    },
    "/admin/users/{userId}/traffic/refresh": {
      "post": {
        "summary": "åˆ·æ–°ç”¨æˆ·æµé‡ä¿¡æ¯",
        "description": "ç®¡ç†å‘˜æ¥å£ï¼šå¼ºåˆ¶åˆ·æ–°ç”¨æˆ·çš„æµé‡ç»Ÿè®¡ä¿¡æ¯",
        "tags": [
          "ç®¡ç†å‘˜",
          "æµé‡ç®¡ç†"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ç”¨æˆ·å”¯ä¸€æ ‡è¯†ç¬¦",
            "example": "user123"
          },
          {
            "name": "superToken",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "è¶…çº§ç®¡ç†å‘˜è®¿é—®ä»¤ç‰Œ",
            "example": "super_secret_token"
          }
        ],
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "æœªæˆæƒè®¿é—®",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "æƒé™ä¸è¶³",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "SuperTokenAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserConfig"
              }
            }
          }
        }
      }
    },
    "/config/users/{userId}": {
      "get": {
        "summary": "è·å–æŒ‡å®šç”¨æˆ·é…ç½®",
        "description": "æ ¹æ®ç”¨æˆ·IDè·å–å®Œæ•´çš„ç”¨æˆ·é…ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬è®¢é˜…URLã€è§„åˆ™é…ç½®ç­‰",
        "tags": [
          "ç”¨æˆ·é…ç½®"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ç”¨æˆ·å”¯ä¸€æ ‡è¯†ç¬¦",
            "example": "user123"
          },
          {
            "name": "token",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ç”¨æˆ·è®¿é—®ä»¤ç‰Œ",
            "example": "user_access_token"
          }
        ],
        "responses": {
          "200": {
            "description": "ç”¨æˆ·é…ç½®ä¿¡æ¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserConfig"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "æœªæˆæƒè®¿é—®",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "æƒé™ä¸è¶³",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "ç”¨æˆ·ä¸å­˜åœ¨",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "TokenAuth": []
          }
        ]
      },
      "post": {
        "summary": "åˆ›å»ºæˆ–æ›´æ–°ç”¨æˆ·é…ç½®",
        "description": "åˆ›å»ºæˆ–æ›´æ–°ç”¨æˆ·é…ç½®ï¼Œæ”¯æŒéƒ¨åˆ†æ›´æ–°",
        "tags": [
          "ç”¨æˆ·é…ç½®"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ç”¨æˆ·å”¯ä¸€æ ‡è¯†ç¬¦",
            "example": "user123"
          },
          {
            "name": "token",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ç”¨æˆ·è®¿é—®ä»¤ç‰Œ",
            "example": "user_access_token"
          }
        ],
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "æœªæˆæƒè®¿é—®",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "æƒé™ä¸è¶³",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "TokenAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserConfig"
              }
            }
          }
        }
      },
      "put": {
        "summary": "æ›´æ–°ç”¨æˆ·é…ç½®",
        "description": "åˆ›å»ºæˆ–æ›´æ–°ç”¨æˆ·é…ç½®ï¼Œæ”¯æŒéƒ¨åˆ†æ›´æ–°",
        "tags": [
          "ç”¨æˆ·é…ç½®"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ç”¨æˆ·å”¯ä¸€æ ‡è¯†ç¬¦",
            "example": "user123"
          },
          {
            "name": "token",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ç”¨æˆ·è®¿é—®ä»¤ç‰Œ",
            "example": "user_access_token"
          }
        ],
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "æœªæˆæƒè®¿é—®",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "æƒé™ä¸è¶³",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "TokenAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserConfig"
              }
            }
          }
        }
      },
      "delete": {
        "summary": "åˆ é™¤ç”¨æˆ·é…ç½®",
        "description": "åˆ é™¤æŒ‡å®šç”¨æˆ·çš„æ‰€æœ‰é…ç½®ä¿¡æ¯ï¼Œæ“ä½œä¸å¯é€†",
        "tags": [
          "ç”¨æˆ·é…ç½®"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ç”¨æˆ·å”¯ä¸€æ ‡è¯†ç¬¦",
            "example": "user123"
          },
          {
            "name": "token",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ç”¨æˆ·è®¿é—®ä»¤ç‰Œ",
            "example": "user_access_token"
          }
        ],
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "æœªæˆæƒè®¿é—®",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "æƒé™ä¸è¶³",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "TokenAuth": []
          }
        ]
      }
    },
    "/config/users": {
      "get": {
        "summary": "è·å–æ‰€æœ‰ç”¨æˆ·åˆ—è¡¨(éœ€è¦ç®¡ç†å‘˜æƒé™)",
        "description": "è·å–ç³»ç»Ÿä¸­æ‰€æœ‰ç”¨æˆ·çš„æ‘˜è¦ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç”¨æˆ·çŠ¶æ€ã€æµé‡ä¿¡æ¯ç­‰",
        "tags": [
          "ç”¨æˆ·é…ç½®",
          "ç®¡ç†å‘˜"
        ],
        "parameters": [
          {
            "name": "superToken",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "è¶…çº§ç®¡ç†å‘˜è®¿é—®ä»¤ç‰Œ",
            "example": "super_secret_token"
          }
        ],
        "responses": {
          "200": {
            "description": "ç”¨æˆ·åˆ—è¡¨",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserSummary"
                  }
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "æœªæˆæƒè®¿é—®",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "æƒé™ä¸è¶³",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "SuperTokenAuth": []
          }
        ]
      }
    },
    "/health": {
      "get": {
        "summary": "æœåŠ¡å¥åº·æ£€æŸ¥",
        "description": "æ£€æŸ¥æœåŠ¡è¿è¡ŒçŠ¶æ€ï¼Œè¿”å›æœåŠ¡ç‰ˆæœ¬å’Œæ—¶é—´æˆ³ä¿¡æ¯",
        "tags": [
          "ç³»ç»Ÿ"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "æœåŠ¡å¥åº·çŠ¶æ€",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthStatus"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "æœªæˆæƒè®¿é—®",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "æƒé™ä¸è¶³",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "UserConfig": {
        "type": "object",
        "properties": {
          "subscribe": {
            "type": "string",
            "format": "uri",
            "description": "è®¢é˜…URLåœ°å€"
          },
          "accessToken": {
            "type": "string",
            "description": "ç”¨æˆ·è®¿é—®ä»¤ç‰Œ"
          },
          "ruleUrl": {
            "type": "string",
            "format": "uri",
            "description": "è§„åˆ™URLåœ°å€",
            "nullable": true
          },
          "fileName": {
            "type": "string",
            "description": "é…ç½®æ–‡ä»¶åç§°",
            "nullable": true
          },
          "multiPortMode": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AreaCode"
            },
            "description": "å¤šç«¯å£æ¨¡å¼é…ç½®"
          },
          "appendSubList": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SubConfig"
            },
            "description": "é™„åŠ è®¢é˜…åˆ—è¡¨"
          },
          "excludeRegex": {
            "type": "string",
            "description": "æ’é™¤æ­£åˆ™è¡¨è¾¾å¼",
            "nullable": true
          }
        },
        "required": [
          "subscribe",
          "accessToken"
        ],
        "description": "ç”¨æˆ·é…ç½®å¯¹è±¡"
      },
      "AreaCode": {
        "type": "string",
        "enum": [
          "HK",
          "TW",
          "SG",
          "JP",
          "KR",
          "US",
          "UK",
          "DE",
          "FR"
        ],
        "description": "åœ°åŒºä»£ç "
      },
      "SubConfig": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "format": "uri"
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "url",
          "name"
        ],
        "description": "è®¢é˜…é…ç½®"
      },
      "UserSummary": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string",
            "description": "ç”¨æˆ·ID"
          },
          "token": {
            "type": "string",
            "description": "ç”¨æˆ·ä»¤ç‰Œ"
          },
          "hasConfig": {
            "type": "boolean",
            "description": "æ˜¯å¦æœ‰é…ç½®"
          },
          "source": {
            "type": "string",
            "enum": [
              "kv",
              "env",
              "none"
            ],
            "description": "é…ç½®æ¥æº"
          },
          "lastModified": {
            "type": "string",
            "nullable": true,
            "description": "æœ€åä¿®æ”¹æ—¶é—´"
          },
          "isActive": {
            "type": "boolean",
            "description": "æ˜¯å¦æ¿€æ´»"
          },
          "subscribeUrl": {
            "type": "string",
            "description": "è®¢é˜…URL"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive",
              "disabled"
            ],
            "description": "ç”¨æˆ·çŠ¶æ€"
          },
          "trafficInfo": {
            "$ref": "#/components/schemas/TrafficInfo",
            "description": "æµé‡ä¿¡æ¯"
          }
        },
        "required": [
          "userId",
          "token",
          "hasConfig"
        ],
        "description": "ç”¨æˆ·æ‘˜è¦ä¿¡æ¯"
      },
      "TrafficInfo": {
        "type": "object",
        "properties": {
          "upload": {
            "type": "number",
            "description": "ä¸Šä¼ æµé‡(å­—èŠ‚)"
          },
          "download": {
            "type": "number",
            "description": "ä¸‹è½½æµé‡(å­—èŠ‚)"
          },
          "total": {
            "type": "number",
            "description": "æ€»æµé‡(å­—èŠ‚)"
          },
          "used": {
            "type": "number",
            "description": "å·²ç”¨æµé‡(å­—èŠ‚)"
          },
          "remaining": {
            "type": "number",
            "description": "å‰©ä½™æµé‡(å­—èŠ‚)"
          },
          "expire": {
            "type": "number",
            "description": "è¿‡æœŸæ—¶é—´æˆ³"
          },
          "isExpired": {
            "type": "boolean",
            "description": "æ˜¯å¦å·²è¿‡æœŸ"
          },
          "usagePercent": {
            "type": "number",
            "minimum": 0,
            "maximum": 100,
            "description": "ä½¿ç”¨ç™¾åˆ†æ¯”"
          }
        },
        "description": "æµé‡ç»Ÿè®¡ä¿¡æ¯"
      },
      "SuccessResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "æ“ä½œæ˜¯å¦æˆåŠŸ"
          },
          "message": {
            "type": "string",
            "description": "å“åº”æ¶ˆæ¯"
          },
          "data": {
            "type": "object",
            "description": "å“åº”æ•°æ®",
            "nullable": true
          }
        },
        "required": [
          "success"
        ],
        "description": "æˆåŠŸå“åº”"
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string",
            "description": "é”™è¯¯ç±»å‹"
          },
          "message": {
            "type": "string",
            "description": "é”™è¯¯æ¶ˆæ¯"
          },
          "code": {
            "type": "number",
            "description": "é”™è¯¯ä»£ç "
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "é”™è¯¯å‘ç”Ÿæ—¶é—´"
          }
        },
        "required": [
          "error",
          "message"
        ],
        "description": "é”™è¯¯å“åº”"
      },
      "HealthStatus": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "ok",
              "error"
            ],
            "description": "æœåŠ¡çŠ¶æ€"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "æ£€æŸ¥æ—¶é—´"
          },
          "version": {
            "type": "string",
            "description": "æœåŠ¡ç‰ˆæœ¬"
          }
        },
        "required": [
          "status",
          "timestamp"
        ],
        "description": "å¥åº·æ£€æŸ¥å“åº”"
      }
    },
    "securitySchemes": {
      "TokenAuth": {
        "type": "apiKey",
        "in": "query",
        "name": "token",
        "description": "ç”¨æˆ·è®¿é—®ä»¤ç‰Œ"
      },
      "SuperTokenAuth": {
        "type": "apiKey",
        "in": "query",
        "name": "superToken",
        "description": "è¶…çº§ç®¡ç†å‘˜ä»¤ç‰Œ"
      }
    }
  }
}